# 字符匹配

正则表达式是匹配模式, 要么匹配字符, 要么匹配位置.

## 模糊匹配

模糊匹配有两种形式, 分别是 **横向模糊匹配** 和 **纵向模糊匹配**.

### 横向模糊匹配

使用量词 `{m,n}` 来匹配某个字符出现的个数. 如下面的例子中, 匹配的字符串必须满足: 第一个字符是 a, 最后一个字符是 c, 中间的 b 可以出现 1~4 次.

![横向匹配](../images/横向匹配.jpg)

```js
const regex = /ab{1,4}c/g

const str = 'abc abbc abbbc abbbbc abbbbbc'

str.match(regex) // [ 'abc', 'abbc', 'abbbc', 'abbbbc' ]
```

> TIPS
>
> 关于 String 的 match 方法可参照 [JavaScript API 全解析](https://js.yanceyleo.com/ES/String/match).

### 纵向模糊匹配

使用字符组 `[xyz]` 来匹配某个位置应该出现的字符.

![纵向匹配](../images/纵向匹配.jpg)

```js
const regex = /a[123]c/g

const str = 'a1c a2c a3c a4c'

str.match(regex) // [ 'a1c', 'a2c', 'a3c' ]
```

## 字符组

### 范围表示法

如果字符组匹配的字符表示一个范围, 可使用 **范围表示法**.

```js
const regexp = /[123456abcdefGHIJKLM]/

// 上面的正则表达式可简化成如下形式
const simplifyRegexp = /[1-6a-fG-M]/
```

通过上面的例子可以看出 `-` 在正则表达式中有特定的含义, 如果恰好要匹配 `-` 这个字符, 需要用到 **转义**, 或把 `-` 字符放到字符组的开头或结尾.

```js
// 下面是纵向匹配 abcde
const regexp = /[a-e]/

// 若想匹配 - 这个字符, 需要转义
const regexp = /[a\-e]/

// 或者放到开头或结尾
const regexp = /[-ae]/
const regexp = /[ae-]/
```

### 排除字符组

即匹配除字符组以外的字符, 如 `/A[^a-c]B/`, 第二个字符是除 a, b, c 以外的任何字符.

```js
const regex = /A[^a-c]B/g

const str = 'AaB AbB AcB AdB'

str.match(regex) // [ 'AdB' ]
```

### 字符组简写形式

正则表达式内置了一些字符组的简写形式, 可参照如下表格.

| 字符组 | 含义                                                                             |
| :----: | :------------------------------------------------------------------------------- |
|   \d   | 等价于 `/[0-9]/`, 表示匹配一个数字字符. d 是 digit 的缩写.                       |
|   \D   | 等价于 `/[^0-9]/`, 表示匹配一个非数字字符.                                       |
|   \w   | 等价于 `/[0-9a-zA-Z_]/`, 表示匹配一个数字, 大小写字母或下划线. w 是 word 的缩写. |
|   \W   | 等价于 `/[^0-9a-zA-Z_]/`, 表示匹配一个非单词字符.                                |
|   \s   | 等价于 `/[ \t\v\n\r\f]/`, 表示匹配一个空白符. s 是 space 的缩写.                 |
|   \S   | 等价于 `/[^0-9a-zA-Z_]/`, 表示匹配一个非空白符.                                  |
|   .    | 等价于 `/[^\n\r\u2028\u2029]/`, 表示通配符.                                      |

> TIPS
>
> 匹配任意字符可使用 `/[\d\D]/`、`/[\w\W]`/、`/[\s\S]`/ 和 `/[^]`/ 的任意一个.

## 量词
