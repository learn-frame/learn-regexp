# 位置匹配

位置(也称为锚)是指每个字符之间的"空隙", 如下图箭头所指即为位置.

![位置](../images/位置.jpg)

内置的锚如下表格所示.

|   锚    | 含义                                                                       |
| :-----: | :------------------------------------------------------------------------- |
|    ^    | 匹配开头, 在多行匹配中匹配行开头.                                          |
|   \$    | 匹配结尾, 在多行匹配中匹配行结尾.                                          |
|   \b    | 匹配 \w 和 \W 之间的位置, 也包括 \w 与 ^ 之间的位置和 \w 与 \$ 之间的位置. |
|   \B    | 匹配非 \w 和 \W 之间的位置.                                                |
| A(?=B)  | 前瞻(Look ahead positive), 匹配 A, 且 A 的后面必须匹配 B                   |
| A(?!B)  | 负前瞻(Look ahead negative), 匹配 A, 且 A 的后面必须不能匹配 B             |
| (?<=B)A | 后顾(Look behind positive), 匹配 A, 且 A 的前面必须匹配 B                  |
| (?<=B)A | 后顾(Look behind negative), 匹配 A, 且 A 的前面必须不能匹配 B              |

## `^` 和 `$`

`^` 和 `$` 分别匹配一个字符串的开头和结尾. 下面的例子就是给 `hello, world.` 这个字符串的开头和结尾添加 🔞.

```js
const regExp = /^|$/g

'hello, world.'.replace(regExp, '🔞') // 🔞hello, world.🔞
```

此外, 它们还可以匹配多行字符串, 这需要给正则表达式缀上修饰符 `m`.

```js
const regExp = /^|$/gm

// 🎄Merry🎄
// 🎄Christmas.🎄
'hello, world.'.replace(regExp, '🎄')
```

## `\b` 和 `\B`

`\b` 匹配单词边界，具体就是 `\w` 与 `\W` 之间的位置，也包括 `\w` 与 `^` 之间的位置，和 `\w` 与 `$` 之间的位置. 复习一下 `\w`, 它等价于 `/[0-9a-zA-Z_]/`, 表示匹配一个数字, 大小写字母或下划线. 看下面这个例子:

```js
const regExp = /\b/g

'[JS] Lesson_01.mp4'.replace(regExp, '#') //  [#JS#] #Lesson_01#.#mp4#
```

下面箭头所指向的位置, 要么是 `\w` 与 `\W` 之间的间隙, 要么是 `\w` 与开头或结尾的间隙. `\b` 即匹配这些间隙位置.

![边界匹配](../images/边界匹配.jpg)

同理, `\B` 与 `\b` 相反, 它匹配 `\w` 之间的位置, 以及 `\W` 与 `^` 和 `$` 之间的位置.

```js
const regExp = /\B/g

'[JS] Lesson_01.mp4'.replace(regExp, '#') // #[J#S]# L#e#s#s#o#n#_#0#1.m#p#4
```

## `A(?=B)` 和 `A(?!B)`

`(?=p)` 是匹配子模式 p 前面的空隙. 下面的例子是匹配 `\W` 之前的空隙, 并将这些空隙替换成 `#`.

```js
const regExp = /(?=\W)/g

'hello, world.'.replace(regExp, '#') // hello#,# world#.
```

`(?!p)` 正相反, 它是匹配**非**子模式 p 前面的空隙. 下面的例子是匹配非 `\W` 之前的空隙, 也就是匹配 `\w` 之前的空隙, 并将这些空隙替换成 `#`.

```js
const regExp = /(?!\W)/g

'hello, world.'.replace(regExp, '#') // #h#e#l#l#o, #w#o#r#l#d.
```

## 训练营

### 不匹配任何东西的正则

### 数字的千位分隔符表示法

### 验证密码问题
